make --dry-run --keep-going --print-directory
make: Entering directory '/home/vintz/Documents/Github_Vintz/KFS/KronOS'
 
printf "\033[91m\r██╗  ██╗███████╗███████╗\033[97m      \033[91m ██╗\n\033[0m"
printf "\033[91m\r██║ ██╔╝██╔════╝██╔════╝\033[97m      \033[91m███║\n\033[0m"
printf "\033[91m\r█████╔╝ █████╗  ███████╗\033[97m█████╗\033[91m╚██║\n\033[0m"
printf "\033[91m\r██╔═██╗ ██╔══╝  ╚════██║\033[97m╚════╝\033[91m ██║\n\033[0m"
printf "\033[91m\r██║  ██╗██║     ███████║\033[97m      \033[91m ██║\n\033[0m"
printf "\033[91m\r╚═╝  ╚═╝╚═╝     ╚══════╝\033[97m      \033[91m ╚═╝\n\033[0m"
 
make -s -C libkfs
printf "\033[97m- LIBKFS\033[0m\033[0m\033[2m-----------------\033[0m \033[92m[\033[97m✓\033[92m]\033[0m\n"
printf "\033[97m- ASM BOOT \033[0m\033[2m--------------\033[0m \033[92m[\033[97m✓\033[92m]\033[0m\n"
 
printf "\033[97m- KERNEL SRCS \033[0m\033[2m-----------\033[0m \033[92m[\033[97m✓\033[92m]\033[0m\n"
 
mkdir -p bin
gcc -g3 -m32 -T linker.ld -o bin/kernel.bin -Wall -Wextra -fno-builtin -fno-exceptions -fno-stack-protector -nostdlib -nodefaultlibs -std=gnu99 -ffreestanding -O2 \
boot/boot.o kernel/srcs/terminal.o kernel/srcs/shell/kshell_utils.o kernel/srcs/shell/kshell.o kernel/srcs/drivers/keyboard.o kernel/srcs/kernel.o kernel/srcs/system/idt/idt.o kernel/srcs/system/irq/irq.o kernel/srcs/system/pit/pit.o kernel/srcs/system/isr/isr.o kernel/srcs/system/gdt/gdt.o kernel/srcs/system/io/portb.o kernel/srcs/system/idt/idt_load.o kernel/srcs/system/irq/irq_handler.o kernel/srcs/system/isr/isr_routines.o kernel/srcs/system/gdt/gdt_flush.o kernel/srcs/system/io/poweroff.o libkfs/libkfs.a \
> /dev/null #2>&1
printf "\033[97m    \033[2m- Compiling: \033[0m\033[2m--------\033[0m\033[93m %s \033[0m\033[92m[\033[97m✓\033[92m]\033[0m\n" "KERNEL / LINKER / BOOT" 
printf "\033[97m- KERNEL BIN \033[0m\033[2m------------\033[0m \033[92m[\033[97m✓\033[92m]\033[0m\033[2m -> ISO CREATION \033[0m \n"
make -s -C . check
 
mkdir -p isodir/boot/grub
cp bin/kernel.bin isodir/boot/kernel.bin
cp grub.cfg isodir/boot/grub/grub.cfg
grub-mkrescue -o kfs.iso isodir \
--xorriso=/home/vintz/Documents/Github_Vintz/KFS/KronOS/xorriso-1.4.6/xorriso/xorriso > /dev/null 2>&1
printf "\033[97m- ISO \033[0m\033[2m-------------------\033[0m \033[92m[\033[97m✓\033[92m]\033[0m\n"
printf "\n\033[97m- Now you use: \'\033[93mmake run\033[0m\' or \'\033[93mmake run-iso\033[0m\' to start the kernel !\033[0m\n"
make: Leaving directory '/home/vintz/Documents/Github_Vintz/KFS/KronOS'
 
